<template>
    <div class="container">
        <div id="vditor"></div>
    </div>


</template>

<script>

// 1.1 å¼•å…¥Vditor æ„é€ å‡½æ•°
import Vditor from 'vditor'
// 1.2 å¼•å…¥æ ·å¼
import 'vditor/dist/index.css';
import vditor from "vditor";

export default {
    data() {
        return {
            inputText: '',
            displayText: '',
            markdownContent: "",
            vditorInstance :null
        }
    },
    mounted() {
        this.vditorInstance = new Vditor('vditor', {
            preview: {
                delay: 100,
                hljs: {
                    enable: true,
                    lineNum: true,
                    theme: 'github-light',
                },
                actions: ["desktop", "mobile"],
                // actions: ["desktop", "mobile", "mp-wechat", "zhihu"],
            },
            counter: {
                enable: true,
            },
            hint: {
                emoji: {
                    "ç¬‘è„¸": "ğŸ˜€",
                    "å¤§ç¬‘": "ğŸ˜ƒ",
                    "å¾®ç¬‘": "ğŸ˜„",
                    "éœ²é½¿ç¬‘": "ğŸ˜",
                    "ç¬‘å“­": "ğŸ˜†",
                    "æ±—ç¬‘": "ğŸ˜…",
                    "å–œæè€Œæ³£": "ğŸ˜‚",
                    "æ§è…¹å¤§ç¬‘": "ğŸ¤£",
                    "æ”¾æ¾": "ğŸ˜Œ",
                    "å®³ç¾": "ğŸ˜Š",
                    "å¤©çœŸ": "ğŸ˜‡",
                    "çœ¨çœ¼": "ğŸ˜‰",
                    "æ·˜æ°”": "ğŸ˜œ",
                    "åèˆŒ": "ğŸ˜",
                    "è€é…·": "ğŸ˜",
                    "æ€è€ƒ": "ğŸ¤”",
                    "æƒŠè®¶": "ğŸ˜²",
                    "è„¸çº¢": "ğŸ˜³",
                    "æ— è¯­": "ğŸ˜¶",
                    "é—­å˜´": "ğŸ¤",
                    "å›°æƒ‘": "ğŸ˜•",
                    "æ‹…å¿ƒ": "ğŸ˜Ÿ",
                    "æ‚²ä¼¤": "ğŸ˜¢",
                    "ç—›è‹¦": "ğŸ˜–",
                    "ç”Ÿæ°”": "ğŸ˜ ",
                    "å‘æ€’": "ğŸ˜¡",
                    "å¤±æœ›": "ğŸ˜",
                    "ç»æœ›": "ğŸ˜£",
                    "ææƒ§": "ğŸ˜¨",
                    "å°–å«": "ğŸ˜±",
                    "æ¶å¿ƒ": "ğŸ¤¢",
                    "å‘•å": "ğŸ¤®",
                    "æ™•": "ğŸ˜µ",
                    "å¿ƒè·³": "â¤ï¸",
                    "é»„å¿ƒ": "ğŸ’›",
                    "ç»¿å¿ƒ": "ğŸ’š",
                    "è“å¿ƒ": "ğŸ’™",
                    "ç´«å¿ƒ": "ğŸ’œ",
                    "å¿ƒç¢": "ğŸ’”",
                    "ç«": "ğŸ”¥",
                    "æ˜Ÿæ˜Ÿ": "â­",
                    "é—ªç”µ": "âš¡",
                    "æ‹³å¤´": "ğŸ‘Š",
                    "é¼“æŒ": "ğŸ‘",
                    "èƒœåˆ©": "âœŒï¸",
                    "æ¯”å¿ƒ": "ğŸ’–",
                    "å–œæ¬¢": "ğŸ‘",
                    "ä¸å–œæ¬¢": "ğŸ‘",
                    "æ¡æ‰‹": "ğŸ¤",
                    "ç¥ˆç¥·": "ğŸ™",
                    "æ‹æ‰‹": "ğŸ‘",
                    "å¼º": "ğŸ’ª",
                    "å¥½": "ğŸ‘Œ",
                    "ç«–å¤§æ‹‡æŒ‡": "ğŸ‘",
                    "å˜˜": "ğŸ¤«",
                    "å»": "ğŸ˜˜",
                    "é£å»": "ğŸ’‹",
                    "ç«ç‘°": "ğŸŒ¹",
                    "èŠ±": "ğŸŒ¸",
                    "å¤ªé˜³": "â˜€ï¸",
                    "æœˆäº®": "ğŸŒ™",
                    "æ˜Ÿæ˜Ÿ": "â­",
                    "é›ªèŠ±": "â„ï¸",
                    "äº‘": "â˜ï¸",
                    "é›¨": "ğŸŒ§ï¸",
                    "é›·": "ğŸŒ©ï¸",
                    "é£": "ğŸŒ¬ï¸",
                    "ä¼": "â˜‚ï¸",
                    "é›ªäºº": "â›„",
                    "ç«å±±": "ğŸŒ‹",
                    "å±±": "â›°ï¸",
                    "æ ‘": "ğŸŒ³",
                    "èŠ±": "ğŸŒ¼",
                    "è‰": "ğŸŒ¿",
                    "è›‹ç³•": "ğŸ°",
                    "å†°æ·‡æ·‹": "ğŸ¦",
                    "ç³–æœ": "ğŸ¬",
                    "æ°´æœ": "ğŸ‰",
                    "è”¬èœ": "ğŸ¥¦",
                    "é¢åŒ…": "ğŸ",
                    "æŠ«è¨": "ğŸ•",
                    "æ±‰å ¡": "ğŸ”",
                    "è–¯æ¡": "ğŸŸ",
                    "çƒ­ç‹—": "ğŸŒ­",
                    "å¯¿å¸": "ğŸ£",
                    "é¥­": "ğŸš",
                    "é¢æ¡": "ğŸœ",
                    "æ±¤": "ğŸ²",
                    "å’–å•¡": "â˜•",
                    "èŒ¶": "ğŸµ",
                    "å•¤é…’": "ğŸº",
                    "é¸¡å°¾é…’": "ğŸ¸",
                    "ç‰›å¥¶": "ğŸ¥›",
                    "æœæ±": "ğŸ¹"
                }


            },
            outline: {
                enable: true,
                // position:'top'
            },
            // height: '70vh',
            mode: "sv",
            width: '70vw',
            blur(value) {
                // ä¿å­˜æ–‡æ¡£....
                console.log('ä¿å­˜æˆåŠŸ')
                console.log(value)
            },
            toolbar: [
                "emoji",
                "headings",
                "bold",
                "italic",
                "strike",
                "link",
                "|",
                "list",
                "ordered-list",
                "check",
                "outdent",
                "indent",
                "|",
                "quote",
                "line",
                "code",
                "inline-code",
                "insert-before",
                "insert-after",
                "|",
                "upload",
                "record",
                "table",
                "|",
                "undo",
                "redo",
                "|",
                "fullscreen",
                "edit-mode",
                {
                    name: "more",
                    toolbar: [
                        "both",
                        "code-theme",
                        "content-theme",
                        "export",
                        "outline",
                        "preview",
                        "devtools",
                    ],
                },
            ],
            toolbarConfig: {
                hide: false,
                pin: false,
            }

            ,

        });
        vditor.value = this.vditorInstance

    },
    methods: {
        handleInput() {
            // æˆªå–æ–°è¾“å…¥çš„å­—ç¬¦
            const newChar = this.inputText.slice(this.displayText.length);
            if (newChar) {
                // å»¶è¿Ÿæ˜¾ç¤ºæ–°å­—ç¬¦
                this.displayText += newChar;
            } else {
                // å¤„ç†åˆ é™¤æ“ä½œ
                this.displayText = this.inputText;
            }
        },
        publishContent() {
            const content = this.vditorInstance.getValue()
            // è¿™é‡Œæ‚¨å¯ä»¥æ·»åŠ å®é™…çš„å‘å¸ƒé€»è¾‘ï¼Œæ¯”å¦‚å‘é€åˆ°æœåŠ¡å™¨
            console.log('å‡†å¤‡å‘å¸ƒçš„å†…å®¹:', content)
            // æ¨¡æ‹Ÿå‘å¸ƒè¿‡ç¨‹
            setTimeout(() => {
                alert('å†…å®¹å·²æˆåŠŸå‘å¸ƒï¼')
                // è¿™é‡Œå¯ä»¥æ·»åŠ å‘å¸ƒåçš„å…¶ä»–æ“ä½œï¼Œæ¯”å¦‚æ¸…ç©ºç¼–è¾‘å™¨æˆ–è·³è½¬åˆ°å…¶ä»–é¡µé¢
            }, 1000)
        },
        scrollToTop() {
            if (this.editorElement) {
                this.editorElement.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                })
            }
        },
        scrollToBottom() {
            if (this.editorElement) {
                this.editorElement.scrollTo({
                    top: this.editorElement.scrollHeight,
                    behavior: 'smooth'
                })
            }
        }
    }
}
</script>

<style scoped>
.container {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
}
</style>
